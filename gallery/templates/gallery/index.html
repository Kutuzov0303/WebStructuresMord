{% load static %}
<! DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>3D Storage</title>
    <link rel="stylesheet" href="{% static 'gallery/style.css' %}">
</head>
<body>
    <header>
        <h1>{{ page_title }}</h1>
        <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ç–µ–ø–µ—Ä—å –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –∫–Ω–æ–ø–∫–∞ -->
        <a href="{% url 'upload' %}" class="btn" style="background-color: #28a745;">+–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å</a>
    </header>
    <main>
        <div class="gallery-grid">
            {% for asset in assets %}
               <div class="asset-card">
                <!-- 1.–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ü—Ä–µ–≤—å—é (–í–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å) -->
                   <div class="card-preview"
                        id="model-container-{{ asset.id }}"
                        data-url="{{ asset.file.url }}">
                        <!-- –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Å—Ç–∞–≤–∏–º —Ç–µ–∫—Å—Ç, –ø–æ–∫–∞ JS –Ω–µ –∑–∞–º–µ–Ω–∏—Ç –µ–≥–æ –Ω–∞ Canvas -->
                         3D –ü—Ä–µ–≤—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
                   </div>
                <!-- 2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å) -->
                 <div class="card-info">
                    <h3 class="card-title">{{ asset.title }}</h3>

                    <div class="card-meta">
                        <span>üìÖ {{ asset.created_at|date:"d M Y" }}</span>
                        {% if asset.file %}
                            <span style="float: right;">üíæ {{ asset.file.size|filesizeformat }}</span>
                        {% endif %}
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è -->
                    {% if asset.file %}
                        <a href="{{ asset.file.url }}" class="btn" style="background-color: #007bff; margin-top: 10px;">–°–∫–∞—á–∞—Ç—å</a>
                    {% else %}
                        span style="color: red;">–§–∞–π–ª –ø–æ—Ç–µ—Ä—è–Ω</span>
                    {% endif %}
                 </div>
               </div>
               {% empty %}
                <p>–ë–∞–∑–∞ –ø—É—Å—Ç–∞</p>
                {% endfor %}
        </div>
    </main>

    <footer>
        <p>&copy; 2026 Web Structures Course</p>
    </footer>
</body>